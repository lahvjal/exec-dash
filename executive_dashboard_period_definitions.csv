period_name,period_id,timezone,week_start_day,date_range_logic,sql_implementation,example_current_date,example_start_date,example_end_date,notes
Current Week,current_week,Server Local Time (UTC in production),Monday,"Monday to Sunday of the current calendar week. If today is Sunday the week runs Monday-Sunday inclusive.","Calculates: dayOfWeek = now.getDay(); monday = now - (dayOfWeek === 0 ? 6 : dayOfWeek - 1) days; sunday = monday + 6 days; Returns: {start: monday end: sunday}","2026-01-28 (Wednesday)","2026-01-27 (Monday)","2026-02-02 (Sunday)","Week always starts Monday and ends Sunday regardless of current day. Sunday (day 0) special handling: goes back 6 days to previous Monday."
Previous Week,previous_week,Server Local Time (UTC in production),Monday,"Monday to Sunday of the previous calendar week.","Calculates: dayOfWeek = now.getDay(); lastMonday = now - (dayOfWeek === 0 ? 6 : dayOfWeek - 1) - 7 days; lastSunday = lastMonday + 6 days; Returns: {start: lastMonday end: lastSunday}","2026-01-28 (Wednesday)","2026-01-20 (Monday)","2026-01-26 (Sunday)","Complete previous week. Always 7 days. No partial weeks."
Month to Date,mtd,Server Local Time (UTC in production),N/A (calendar month),"First day of current month through today (inclusive).","Calculates: firstOfMonth = new Date(year month 1); Returns: {start: firstOfMonth end: today}","2026-01-28","2026-01-01","2026-01-28","Includes today. Resets on the 1st of each month. Partial month until today."
Year to Date,ytd,Server Local Time (UTC in production),N/A (calendar year),"January 1st of current year through today (inclusive).","Calculates: firstOfYear = new Date(year 0 1); Returns: {start: firstOfYear end: today}","2026-01-28","2026-01-01","2026-01-28","Includes today. Resets on January 1st. Partial year until today."
Next Week,next_week,Server Local Time (UTC in production),Monday,"Monday to Sunday of the next calendar week.","Calculates: dayOfWeek = now.getDay(); nextMonday = now - (dayOfWeek === 0 ? 6 : dayOfWeek - 1) + 7 days; nextSunday = nextMonday + 6 days; Returns: {start: nextMonday end: nextSunday}","2026-01-28 (Wednesday)","2026-02-03 (Monday)","2026-02-09 (Sunday)","Used for forward-looking metrics like scheduled installs. Complete 7-day week."
Rolling 6-Month (61-180 days),rolling_6m_window,Server Local Time (UTC in production),N/A (fixed lookback),"Jobs sold between 180 days ago and 61 days ago. Fixed window that ignores period selector.","SQL: WHERE contract-signed >= DATE_SUB(CURDATE() INTERVAL 180 DAY) AND contract-signed <= DATE_SUB(CURDATE() INTERVAL 61 DAY)","2026-01-28","2025-07-31 (180 days ago)","2025-11-28 (61 days ago)","⚠️ SPECIAL: This ignores the period selector completely. Always uses fixed 119-day lookback window. Used by Pull Through % (Rolling 6M) and Max Pull Through % (Rolling 6M) metrics only."
